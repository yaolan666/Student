<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/jquery/jquery-3.3.1.min.js"></script>
</head>
<body>
<form id="postForm" action="/goods/upload" method="post" enctype="multipart/form-data">
    <input id="goodId" type="text" name="goodId" value="#(id)">
    <input id="file" type="file" name="file"><span id="fspan"></span><br>
    <img src="" id="img0" width="200" height="100">
    <input id="sub" type="submit" value="提交">
</form>
</body>
<script>
    $("#file").change(function(){
        var objUrl = getObjectURL(this.files[0]) ;
        console.log("objUrl = "+objUrl) ;
        if (objUrl) {
            $("#img0").attr("src", objUrl) ;
        }
    }) ;
    //建立一個可存取到該file的url
    function getObjectURL(file) {
        var url = null ;
        if (window.createObjectURL!=undefined) { // basic
            url = window.createObjectURL(file) ;
        } else if (window.URL!=undefined) { // mozilla(firefox)
            url = window.URL.createObjectURL(file) ;
        } else if (window.webkitURL!=undefined) { // webkit or chrome
            url = window.webkitURL.createObjectURL(file) ;
        }
        return url ;
    }
</script>
</html>